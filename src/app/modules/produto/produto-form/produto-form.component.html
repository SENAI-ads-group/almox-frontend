<div class="p-grid">
    <div class="p-col-12">
        <p-panel styleClass="p-mb-4 p-p-0">
            <p-toolbar styleClass="p-p-0 p-m-0">
                <ng-template pTemplate="left">
                    <h2>
                        {{
                            modoVisualizacao
                                ? "Visualização de Produto"
                                : editandoRegistroExistente
                                ? "Edição de Produto"
                                : "Cadastro de Novo Produto"
                        }}
                    </h2>
                </ng-template>

                <ng-template pTemplate="right">
                    <button
                        pButton
                        pRipple
                        label="Consultar"
                        class="p-mb-3"
                        icon="pi pi-list"
                        routerLink="/produtos"
                    ></button>
                </ng-template>
            </p-toolbar>
        </p-panel>

        <form #formulario="ngForm" (ngSubmit)="onSubmit(formulario)">
            <p-card styleClass="p-mb-4 p-p-0">
                <p-messages
                    *ngIf="modoVisualizacao && formulario.touched"
                    [value]="[
                        {
                            severity: 'warn',
                            summary: 'Modo de Visualização',
                            detail: 'O Formulário está em Modo de Visualização.'
                        }
                    ]"
                    [enableService]="false"
                ></p-messages>

                <ng-template pTemplate="footer">
                    <div
                        class="p-grid p-nogutter p-justify-end"
                        *ngIf="!modoVisualizacao"
                    >
                        <button
                            type="button"
                            pButton
                            pRipple
                            label="Limpar"
                            class="
                                p-mb-3 p-mr-2 p-button-outlined p-button-primary
                            "
                            [disabled]="editandoRegistroExistente"
                            (click)="limpar()"
                        ></button>
                        <button
                            type="submit"
                            pButton
                            pRipple
                            label="Salvar"
                            class="p-mb-3"
                            icon="pi pi-save"
                            [disabled]="
                                !formulario.valid ||
                                (editandoRegistroExistente &&
                                    !formulario.touched)
                            "
                        ></button>
                    </div>
                </ng-template>
            </p-card>
        </form>
    </div>
</div>

<p-toast></p-toast>
